<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>FSS trending</title>
    <link href="/mta/ASPECT/aspect.css" rel="stylesheet" type="text/css" media="all" />
  </head>

  <body>
    <!--#include virtual="/mta/ASPECT/header.html"-->

    <h2> FSS Performance Trending </h2>

    <h3> Summary </h3>

    <p>
      The 2012:150 entry to Safe Mode was caused by the FSS persistently reporting an
      incorrect value (~32 degrees vs. expected value of 0 degrees) for the
      Alpha angle (AOALPANG) while also reporting the Sun Presence flags
      (AOALPSUN and AOBETSUN) as SUN (indicating sun is present and data values
      are valid). This occurred in NPM while the Sun Position Monitor (SPM) was
      active at a sun pitch slightly above 139 degrees. The incorrect Alpha sun
      angle values caused two checks in the SPM to fail.
    </p>

    <h3> Swap from FSS-A to FSS-B on 2013:130 </h3>

    Due to continuing degradation of FSS-A, on 2013:130 (Friday May 10 around 2000Z),
    the roles of FSS-A and FSS-B were swapped so that FSS-B is now the primary
    sensor which is used by the OBC via SPE-A.

    <table>
     <tr> <th> Date </th> <th> Primary </th> <th> Secondary </th> </tr>
     <tr> <td> Before 2013:130 </td> <td> FSS-A </td> <td> FSS-B </td> </tr>
     <tr> <td> After 2013:130 </td> <td> FSS-B </td> <td> FSS-A </td> </tr>
    </table>

    <h3> Pitch Angles for Bad Data (Primary updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fss_prim/pitch_bad_alpha.png"-->, Secondary updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fss_sec/pitch_bad_alpha.png"-->)</h3>

    <h4> (For the last year) </h4>

      <p>The plots below show the sun pitch angle for data points where the FSS
      alpha angle (corresponding roughly to off-nominal roll) is different from the true
      off-nominal roll by more than 8.0 degrees.  In other words, points when the FSS is
      reporting erroneous values.  This is an expected situation outside of the
      nominal FSS FOV and when the FSS Sun Presence flag is False, but is
      anomalous for times when FSS Sun Presence is True (which means the OBC
      is allowed to use the data in active safing monitors).
      </p>
      <p>
      In the first row of plots the red dots correspond to anomalous points
      where the alpha value is bad and Sun Presence is True.
      </p>
      <p>
      The second row of plots shows that nearly all of the cases with bad alpha
      and Sun Presence True occur while maneuvering (big blue dots).  The first
      red X corresponds to the 2012:150 Safe Mode.  The second red X could have
      caused another Safe Mode if the FSS FOV extent had not been reduced.
      </p>

    <table>
      <tr> <th> FSS-Primary (1 year)</th> <th> FSS-Primary (90 days)</th> </tr>
      <tr>
        <td> <img SRC="fss_prim/pitch_bad_alpha-360.png" width="500"><br/> </td>
        <td> <img SRC="fss_prim/pitch_bad_alpha-90.png" width="500"><br/> </td>
      <tr>
      </tr>
        <td> <img SRC="fss_prim/pitch_bad_alpha_sun-360.png" width="500"><br/> </td>
        <td> <img SRC="fss_prim/pitch_bad_alpha_sun-90.png" width="500"><br/> </td>
      </tr>
    </table>

    <h3> FSS FOV  (Primary updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fss_prim/pitch_alpha_no_sun.png"-->, Secondary updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fss_sec/pitch_alpha_no_sun.png"-->)</h3>

    <h4> (For the last year) </h4>

    <p>
      The plots below show the sun pitch angle for data points when the FSS reports
      no sun presence in Alpha (AOAPLSUN = "NSUN") or Beta (AOBETSUN =
      "NSUN"). This illustrates the effective FSS field of view outside of
      which the data are marked invalid. The red points correspond to Kalman
      mode (AOACASEQ = "KALM" and AOPCADMD = "NPNT"). The cyan points are those
      when NOT in Kalman (corresponding mostly to maneuvers).
    </p>

    <table>
      <tr> <th> FSS-Primary</th> <th> FSS-Secondary</th> </tr>
      <tr>
        <td> <img SRC="fss_prim/pitch_alpha_no_sun-360.png" width="500"><br/> </td>
        <td> <img SRC="fss_sec/pitch_alpha_no_sun.png" width="500"><br/> </td>
      </tr>
      <tr>
        <td> <img SRC="fss_prim/pitch_beta_no_sun-360.png" width="500"><br/> </td>
        <td> <img SRC="fss_sec/pitch_beta_no_sun.png" width="500"><br/> </td>
      </tr>
    </table>

    <h3> FSS-Primary Historical Data (Updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fss_sec/pitch_bad_alpha.png"-->)</h3>

    <table>
      <tr>
        <td> <img SRC="fss_sec/pitch_bad_alpha.png" width="500"><br/> </td>
        <td> <img SRC="fss_sec/pitch_bad_alpha_sun.png" width="500"><br/> </td>
      </tr>
    </table>


    <h4> (Since 2010:001 to illustrate long term trend circa Aug-2013) </h4>

    <p>
      The plots below are identical to the four plots above for FSS-Primary but with
      a different timescale in order to illustrate the current trend in FSS-Primary.
    </p>

    <table>
      <tr>
        <td> <img SRC="fss_prim_hist/pitch_bad_alpha.png" width="500"><br/> </td>
        <td> <img SRC="fss_prim_hist/pitch_bad_alpha_sun.png" width="500"><br/> </td>
      </tr>
      <tr>
        <td> <img SRC="fss_prim_hist/pitch_alpha_no_sun.png" width="500"><br/> </td>
        <td> <img SRC="fss_prim_hist/pitch_beta_no_sun.png" width="500"><br/> </td>
      </tr>
    </table>

    <h3> Analysis data </h3>
      The scripts and data used in this analysis are in
      <tt>/proj/sot/ska/analysis/safemode_2012150/fss_check</tt>
      and <a href="https://github.com/sot/fss_check">https://github.com/sot/fss_check</a>.

      <br></br>

<!--#include virtual="/mta/ASPECT/footer.html"-->
<!--footer end-->

  </body>
</html>
