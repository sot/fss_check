<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>FSS trending</title>
    <link href="/mta/ASPECT/aspect.css" rel="stylesheet" type="text/css" media="all" />
  </head>

  <body>
    <!--#include virtual="/mta/ASPECT/header.html"-->

    <h2> FSS Performance Trending </h2>

    <h3> Summary </h3>

    <p>
      The 2012:150 entry to safe mode was caused by the FSS persistently reporting an
      incorrect value (~32 degrees vs. expected value of 0 degrees) for the
      Alpha angle (AOALPANG) while also reporting the Sun Presence flags
      (AOALPSUN and AOBETSUN) as SUN (indicating sun is present and data values
      are valid). This occurred in NPM while the Sun Position Monitor (SPM) was
      active at a sun pitch slightly above 139 degrees. The incorrect Alpha sun
      angle values caused two checks in the SPM to fail.
    </p>

    <h3> Pitch Angles for Bad Data  (Updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fssa/pitch_bad_alpha.png"-->)</h3>

      <p>The plots below show the sun pitch angle for data points where the FSS
      alpha angle (corresponding roughly to pitch) is different from the true
      pitch by more than 8.0 degrees.  In other words, points when the FSS is
      reporting erroneous values.  This is an expected situation outside of the
      nominal FSS FOV and when the FSS Sun Presence flag is False, but is
      anomalous for times when FSS Sun Presence is True (which means the OBC
      is allowed to use the data in active safing monitors).
      </p>
      <p>
      In the first row of plots the red dots correspond to anomalous points
      where the alpha value is bad and Sun Presence is True.
      </p>
      <p>
      The second row of plots (zoomed to the last 6 months of data) shows that
      nearly all of the cases with bad alpha and Sun Presence True occur while
      maneuvering (big blue dots).  The first red X corresponds to the 2012:150
      safe mode.  The second red X could have caused another safe mode if the
      FSS FOV extent had not been reduced.
      </p>

    <table>
      <tr> <th> FSS-A</th> <th> FSS-B</th> </tr>
      <tr>
        <td> <img SRC="fssa/pitch_bad_alpha.png" width="500"><br/> </td>
        <td> <img SRC="fssb/pitch_bad_alpha.png" width="500"><br/> </td>
      <tr>
      </tr>
        <td> <img SRC="fssa/pitch_bad_alpha_sun.png" width="500"><br/> </td>
        <td> <img SRC="fssb/pitch_bad_alpha_sun.png" width="500"><br/> </td>
      </tr>
    </table>

    <h3> FSS FOV  (Updated <!--#CONFIG TIMEFMT="%x"--><!--#flastmod file="fssa/pitch_alpha_no_sun.png"-->)</h3>

    <p>
      The plots belows show the sun pitch angle for data points when the FSS reports
      no sun presence in Alpha (AOAPLSUN = "NSUN") or Beta (AOBETSUN =
      "NSUN"). This illustrates the effective FSS field of view outside of
      which the data are marked invalid. The red points correspond to Kalman
      mode (AOACASEQ = "KALM" and AOPCADMD = "NPNT"). The cyan points are those
      when NOT in Kalman (corresponding mostly to maneuvers).
    </p>

    <table>
      <tr> <th> FSS-A</th> <th> FSS-B</th> </tr>
      <tr>
        <td> <img SRC="fssa/pitch_alpha_no_sun.png" width="500"><br/> </td>
        <td> <img SRC="fssb/pitch_alpha_no_sun.png" width="500"><br/> </td>
      </tr>
      <tr>
        <td> <img SRC="fssa/pitch_beta_no_sun.png" width="500"><br/> </td>
        <td> <img SRC="fssb/pitch_beta_no_sun.png" width="500"><br/> </td>
      </tr>
    </table>

    <h3> Analysis data </h3>
      The scripts and data used in this analysis are in
      <tt>/proj/sot/ska/analysis/safemode_2012150/fss_check</tt>
      and <a href="https://github.com/sot/fss_check">https://github.com/sot/fss_check</a>.

      <br></br>

<!--#include virtual="/mta/ASPECT/footer.html"-->
<!--footer end-->

  </body>
</html>
